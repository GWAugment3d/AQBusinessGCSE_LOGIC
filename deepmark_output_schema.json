{
  "schema_name": "deepmark_output_schema",
  "schema_version": "2026-01-28.1",

  "required_top_level_keys": [
    "results"
  ],

  "notes": "DeepMark internal output contract. This is NOT JSON Schema. The runtime validator expects this contract shape and later reads `results` for scoring.",

  "paper_meta": {
    "required_fields": [
      "student_name",
      "student_year",
      "test_title",
      "test_date"
    ]
  },

  "short_answers": {
    "descriptor_only": true,
    "qid_pattern": "^[0-9]{2}\\.[0-9]{1,2}$",
    "required_fields": [
      "qid",
      "marks_awarded",
      "marks_total",
      "feedback"
    ]
  },

  "extended_answers": {
    "descriptor_only": true,
    "qid_pattern": "^[0-9]{2}\\.[0-9]{1,2}$",
    "required_fields": [
      "qid",
      "marks_awarded",
      "marks_total",
      "level_label",
      "level_explanation",
      "missing_rule",
      "checklist",
      "inline_annotations",
      "fix_it_activity"
    ]
  },

  "results": {
    "type": "array",
    "description": "Model-produced marking results consumed by the deterministic scoring and report renderer."
  }
}
